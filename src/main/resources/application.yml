spring:
  application:
    name: portfolio-be
  
  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017/auth_service_db}
      database: auth_service_db
      auto-index-creation: true
      # Connection pooling is handled automatically by Spring Data MongoDB
      # Default: maxPoolSize=100, minPoolSize=0
  
  security:
    jwt:
      secret: ${JWT_SECRET:your-secret-key-change-in-production}
      expiration: ${JWT_EXPIRATION:3600} # 1 hour in seconds
      refresh-expiration: ${REFRESH_TOKEN_EXPIRATION:7} # 7 days
  
  # Mail Configuration (SendGrid SMTP)
  mail:
    host: ${MAIL_HOST:smtp.sendgrid.net}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME:apikey}
    password: ${MAIL_PASSWORD:your-sendgrid-api-key}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000
    # Email sender info
    from: ${MAIL_FROM:noreply@example.com}
    from-name: ${MAIL_FROM_NAME:ChinhNT Auth Service}

# SendGrid Web API (recommended on Railway)
sendgrid:
  api-key: ${SENDGRID_API_KEY:}
  
  # File Upload Configuration
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB

server:
  port: ${PORT:8080}
  error:
    include-message: always
    include-binding-errors: always

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html

# Firebase Configuration
firebase:
  service-account: ${FIREBASE_SERVICE_ACCOUNT:}
  storage-bucket: ${FIREBASE_STORAGE_BUCKET:chinhnt-ps.firebasestorage.app}

# Gemini AI Configuration
gemini:
  api:
    key: ${GEMINI_API_KEY:}
    url: ${GEMINI_API_URL:https://generativelanguage.googleapis.com/v1beta/models/gemma-3-4b-it:generateContent}
    timeout: ${GEMINI_API_TIMEOUT:5000}
    max-retries: ${GEMINI_API_MAX_RETRIES:3}

logging:
  level:
    root: INFO
    com.portfolio: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
